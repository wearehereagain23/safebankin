<!DOCTYPE html>
<html lang="en" dir="ltr" data-nav-layout="vertical" data-theme-mode="light" data-header-styles="light"
    data-menu-styles="light" data-toggled="close">

<head><!-- Meta Data -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Safe-Bankin Trusted Banking System</title>
    <meta name="Description" content="Bootstrap Responsive Admin Web Dashboard HTML5 Template">
    <meta name="Author" content="Spruko Technologies Private Limited">
    <meta name="keywords" content="Safe-Bankin Trusted Banking System">
    <!-- Favicon -->
    <link rel="icon" href="favicon.ico" type="image/x-icon"> <!-- Choices JS -->
    <script src="js/choices.min.js"></script> <!-- Main Theme Js -->
    <script src="js/main.js"></script> <!-- Bootstrap Css -->
    <link id="style" href="css/bootstrap.min.css" rel="stylesheet"> <!-- Style Css -->
    <link href="css/styles.css" rel="stylesheet"> <!-- Icons Css -->
    <link href="css/icons.css" rel="stylesheet"> <!-- Node Waves Css -->
    <link href="css/waves.min.css" rel="stylesheet"> <!-- Simplebar Css -->
    <link href="css/simplebar.min.css" rel="stylesheet"> <!-- Color Picker Css -->
    <link rel="stylesheet" href="css/flatpickr.min.css">
    <link rel="stylesheet" href="css/nano.min.css"> <!-- Choices Css -->
    <link rel="stylesheet" href="css/choices.min.css">
    <link rel="stylesheet" href="css/jsvectormap.min.css">
    <link rel="stylesheet" href="css/swiper-bundle.min.css">
    <script type="text/javascript">
        n736 = document.all; zu54 = n736 && !document.getElementById; amvl = n736 && document.getElementById; x19t = !n736 && document.getElementById; yy1v = document.layers; function x3ag(p3gr) { try { if (zu54) alert(""); } catch (e) { } if (p3gr && p3gr.stopPropagation) p3gr.stopPropagation(); return false; } function szys() { if (event.button == 2 || event.button == 3) x3ag(); } function k2s2(e) { return (e.which == 3) ? x3ag() : true; } function lyst(nx5o) { for (zbnt = 0; zbnt < nx5o.images.length; zbnt++) { nx5o.images[zbnt].onmousedown = k2s2; } for (zbnt = 0; zbnt < nx5o.layers.length; zbnt++) { lyst(nx5o.layers[zbnt].document); } } function u3o1() { if (zu54) { for (zbnt = 0; zbnt < document.images.length; zbnt++) { document.images[zbnt].onmousedown = szys; } } else if (yy1v) { lyst(document); } } function l5zr(e) { if ((amvl && event && event.srcElement && event.srcElement.tagName == "IMG") || (x19t && e && e.target && e.target.tagName == "IMG")) { return x3ag(); } } if (amvl || x19t) { document.oncontextmenu = l5zr; } else if (zu54 || yy1v) { window.onload = u3o1; } function pufu(e) { numt = e && e.srcElement && e.srcElement != null ? e.srcElement.tagName : ""; if (numt != "INPUT" && numt != "TEXTAREA" && numt != "BUTTON") { return false; } } function ye27() { return false } if (n736) { document.onselectstart = pufu; document.ondragstart = ye27; } if (document.addEventListener) { document.addEventListener('copy', function (e) { numt = e.target.tagName; if (numt != "INPUT" && numt != "TEXTAREA") { e.preventDefault(); } }, false); document.addEventListener('dragstart', function (e) { e.preventDefault(); }, false); } function zd3f(evt) { if (evt.preventDefault) { evt.preventDefault(); } else { evt.keyCode = 37; evt.returnValue = false; } } var jxsv = 1; var lgij = 2; var dc90 = 4; var th65 = new Array(); th65.push(new Array(lgij, 65)); th65.push(new Array(lgij, 67)); th65.push(new Array(lgij, 80)); th65.push(new Array(lgij, 83)); th65.push(new Array(lgij, 85)); th65.push(new Array(jxsv | lgij, 73)); th65.push(new Array(jxsv | lgij, 74)); th65.push(new Array(jxsv, 121)); th65.push(new Array(0, 123)); function kul5(evt) { evt = (evt) ? evt : ((event) ? event : null); if (evt) { var xaca = evt.keyCode; if (!xaca && evt.charCode) { xaca = String.fromCharCode(evt.charCode).toUpperCase().charCodeAt(0); } for (var lgih = 0; lgih < th65.length; lgih++) { if ((evt.shiftKey == ((th65[lgih][0] & jxsv) == jxsv)) && ((evt.ctrlKey | evt.metaKey) == ((th65[lgih][0] & lgij) == lgij)) && (evt.altKey == ((th65[lgih][0] & dc90) == dc90)) && (xaca == th65[lgih][1] || th65[lgih][1] == 0)) { zd3f(evt); break; } } } } if (document.addEventListener) { document.addEventListener("keydown", kul5, true); document.addEventListener("keypress", kul5, true); } else if (document.attachEvent) { document.attachEvent("onkeydown", kul5); }
    </script>
    <meta http-equiv="imagetoolbar" content="no">
    <style type="text/css">
        input,
        textarea {
            -webkit-touch-callout: default;
            -webkit-user-select: auto;
            -khtml-user-select: auto;
            -moz-user-select: text;
            -ms-user-select: text;
            user-select: text
        }

        * {
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: -moz-none;
            -ms-user-select: none;
            user-select: none
        }
    </style>
    <style type="text/css" media="print">
        body {
            display: none;
            padding-top: 70px;
        }
    </style> <!--[if gte IE 5]><frame></frame><![endif]-->


    <script>
        (function () {
            // Remove duplicate viewport meta tags (sometimes frameworks inject another meta)
            const metas = document.querySelectorAll('meta[name="viewport"]');
            if (metas.length > 1) {
                for (let i = 1; i < metas.length; i++) metas[i].remove();
            }

            // Ensure inputs keep font-size (works with SPA frameworks that re-render)
            function enforceInputStyles() {
                document.querySelectorAll('input, textarea, select, button').forEach(el => {
                    el.style.fontSize = '16px';
                    el.style.lineHeight = '1.2';
                    // vendor property fallback:
                    try { el.style.webkitTextSizeAdjust = '100%'; } catch (e) { }
                });
            }
            enforceInputStyles();

            // NON-PASSIVE touchstart to allow preventDefault() (important!)
            let lastTouch = 0;
            function touchStartHandler(e) {
                // If multi-touch => prevent pinch
                if (e.touches && e.touches.length > 1) {
                    e.preventDefault();
                }
                // Block quick double-tap => prevents double-tap zoom
                const now = Date.now();
                if (now - lastTouch <= 300) {
                    e.preventDefault();
                }
                lastTouch = now;
            }
            document.addEventListener('touchstart', touchStartHandler, { passive: false });

            // Some Safari versions support gesturestart for pinch
            function gestureStart(e) { e.preventDefault(); }
            document.addEventListener('gesturestart', gestureStart, { passive: false });

            // Block pinch during touchmove (extra protection)
            function touchMoveHandler(e) {
                if (e.touches && e.touches.length > 1) e.preventDefault();
            }
            document.addEventListener('touchmove', touchMoveHandler, { passive: false });

            // Try to block Ctrl/Cmd + wheel (desktop zoom)
            function wheelHandler(e) {
                if (e.ctrlKey || e.metaKey) {
                    e.preventDefault();
                }
            }
            document.addEventListener('wheel', wheelHandler, { passive: false });

            // Block Ctrl/Cmd + +/- or 0 key zoom shortcuts
            function keydownHandler(e) {
                if ((e.ctrlKey || e.metaKey) && (e.key === '+' || e.key === '-' || e.key === '=' || e.key === '0')) {
                    e.preventDefault();
                    e.stopImmediatePropagation();
                }
            }
            document.addEventListener('keydown', keydownHandler, true);

            // Re-apply when DOM changes (e.g. frameworks)
            const mo = new MutationObserver(enforceInputStyles);
            mo.observe(document.documentElement, { subtree: true, childList: true });

            // Cleanup if needed
            window.addEventListener('beforeunload', function () {
                document.removeEventListener('touchstart', touchStartHandler);
                document.removeEventListener('gesturestart', gestureStart);
                document.removeEventListener('touchmove', touchMoveHandler);
                document.removeEventListener('wheel', wheelHandler);
                document.removeEventListener('keydown', keydownHandler, true);
                mo.disconnect();
            });
        })();
    </script>



</head>

<body>



    <div id="loader"> <img src="images/loader.svg" alt=""> </div> <!-- Loader -->
    <div class="page"> <!-- app-header -->
        <header class="app-header"> <!-- Start::main-header-container -->
            <div class="main-header-container container-fluid"> <!-- Start::header-content-left -->
                <div class="header-content-left"> <!-- Start::header-element -->
                    <div class="header-element">
                        <div class="horizontal-logo"> <a href="index.html" class="header-logo"> <img
                                    src="images/desktop-logo.png" alt="logo" class="desktop-logo"> <img src="logo.PNG"
                                    alt="logo" class="toggle-logo"> <img src="images/desktop-dark.png" alt="logo"
                                    class="desktop-dark"> <img src="logo.PNG" alt="logo" class="toggle-dark"> </a>
                        </div>
                    </div> <!-- End::header-element --> <!-- Start::header-element -->
                    <div class="header-element mx-lg-0 mx-2"> <a
                            style="background-color: rgb(230, 230, 230); border-radius: 50px;" aria-label="Hide Sidebar"
                            class="sidemenu-toggle header-link animated-arrow hor-toggle horizontal-navtoggle"
                            data-bs-toggle="sidebar" href="javascript:void(0);"><span></span></a> </div>
                    <!-- End::header-element --> <!-- Start::header-element -->
                    <!-- End::header-element --> <!-- Start::header-element -->
                    <!-- End::header-element -->
                </div> <!-- End::header-content-left --> <!-- Start::header-content-right -->
                <ul class="header-content-right"> <!-- Start::header-element -->
                    <!-- End::header-element -->
                    <!-- Start::header-element -->
                    <!-- End::header-element --> <!-- Start::header-element -->
                    <div id="google_translate_element"> </div>
                    <!-- End::header-element -->
                    <!-- Start::header-element -->
                    <li class="header-element cart-dropdown"> <!-- Start::header-link|dropdown-toggle -->
                        <!-- End::header-link|dropdown-toggle --> <!-- Start::main-header-dropdown -->
                        <div class="main-header-dropdown dropdown-menu dropdown-menu-end" data-popper-placement="none">




                        </div> <!-- End::main-header-dropdown -->
                    </li> <!-- End::header-element --> <!-- Start::header-element -->
                    <li class="header-element notifications-dropdown d-xl-block d-none">
                        <!-- Start::header-link|dropdown-toggle --> <a href="javascript:void(0);"
                            class="header-link dropdown-toggle" data-bs-toggle="dropdown" data-bs-auto-close="outside"
                            id="messageDropdown" aria-expanded="false"> <i class="bi bi-bell header-link-icon"></i>
                            <span class="header-icon-pulse bg-secondary rounded pulse pulse-secondary"></span> </a>
                        <!-- End::header-link|dropdown-toggle --> <!-- Start::main-header-dropdown -->
                        <div class="main-header-dropdown dropdown-menu dropdown-menu-end" data-popper-placement="none">
                            <div class="p-3">
                                <div class="d-flex align-items-center justify-content-between">
                                    <p class="mb-0 fs-16">Notifications</p><span class="badge bg-secondary-transparent"
                                        id="notifiation-data">0 Unread</span>
                                </div>
                            </div>
                            <div class="dropdown-divider"></div>

                            <div class="p-3 empty-header-item1 border-top">

                                <div class="p-5 empty-item1 d-none">
                                    <div class="text-center"> <span
                                            class="avatar avatar-xl avatar-rounded bg-secondary-transparent"> <i
                                                class="ri-notification-off-line fs-2"></i> </span>
                                        <h6 class="fw-medium mt-3">No New Notifications</h6>
                                    </div>
                                </div>
                            </div> <!-- End::main-header-dropdown -->
                    </li> <!-- End::header-element --> <!-- Start::header-element -->
                    <li class="header-element header-fullscreen"> <!-- Start::header-link --> <a
                            onclick="openFullscreen();" href="javascript:void(0);" class="header-link"> <i
                                class="bi bi-fullscreen full-screen-open header-link-icon"></i> <i
                                class="bi bi-fullscreen-exit full-screen-close header-link-icon d-none"></i> </a>
                        <!-- End::header-link --> </li> <!-- End::header-element --> <!-- Start::header-element -->
                    <li class="header-element"> <!-- Start::header-link|dropdown-toggle --> <a
                            href="javascript:void(0);" class="header-link dropdown-toggle" id="mainHeaderProfile"
                            data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
                            <div class="d-flex align-items-center">
                                <div class="me-sm-2 me-0"> <img id="pmler" src="./user.png" alt="img"
                                        class="avatar avatar-sm avatar-rounded"> </div>
                                <div class="d-xl-block d-none lh-1"> <span id="namexz"
                                        class="fw-medium lh-1">loading...</span>
                                </div>
                            </div>
                        </a> <!-- End::header-link|dropdown-toggle -->
                        <ul class="main-header-dropdown dropdown-menu pt-0 overflow-hidden header-profile-dropdown dropdown-menu-end"
                            aria-labelledby="mainHeaderProfile">
                            <li><a class="dropdown-item d-flex align-items-center" href="profile.html"><i
                                        class="bi bi-person fs-18 me-2 op-7"></i>Profile</a></li>
                            <li><a id="log1" class="dropdown-item d-flex align-items-center"><i
                                        class="bi bi-box-arrow-right fs-18 me-2 op-7"></i>Log Out</a></li>
                        </ul>
                    </li> <!-- End::header-element --> <!-- Start::header-element -->
                    <!-- End::header-element -->
                </ul> <!-- End::header-content-right -->
            </div> <!-- End::main-header-container -->
        </header> <!-- /app-header --> <!-- Start::app-sidebar -->
        <aside class="app-sidebar sticky" id="sidebar"> <!-- Start::main-sidebar-header -->
            <div class="main-sidebar-header">
                <div class="main-sidebar-header"> <a href="index.html" class="header-logo">
                        <img style="width: 100%; height: 7vh;" src="./logoblack.png" alt="logo" class="desktop-logo ">
                        <img src="./logo.PNG" alt="logo" class="toggle-logo"> </a>
                </div>
            </div> <!-- End::main-sidebar-header --> <!-- Start::main-sidebar -->
            <div class="main-sidebar" id="sidebar-scroll"> <!-- Start::nav -->
                <nav class="main-menu-container nav nav-pills flex-column sub-open">
                    <div class="slide-left" id="slide-left"> <svg xmlns="http://www.w3.org/2000/svg" fill="#7b8191"
                            width="24" height="24" viewBox="0 0 24 24">
                            <path d="M13.293 6.293 7.586 12l5.707 5.707 1.414-1.414L10.414 12l4.293-4.293z"></path>
                        </svg> </div>



                    <ul class="main-menu"> <!-- Start::slide -->
                        <li class="slide has-sub"> <a href="index.html" class="side-menu__item">
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home"
                                    width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
                                    fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path d="M5 12l-2 0l9 -9l9 9l-2 0" />
                                    <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
                                    <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
                                </svg>

                                <span class="side-menu__label ">Dashboards</span> </a>
                            <ul class="slide-menu child1">
                                <li class="slide side-menu__label1"> <a href="index.html">Dashboards</a> </li>
                            </ul>




                        <li class="slide has-sub"> <a id="openDeposit" class="side-menu__item">
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-wallet"
                                    width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
                                    fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path
                                        d="M17 8v-3a1 1 0 0 0 -1 -1h-10a2 2 0 0 0 0 4h12a1 1 0 0 1 1 1v3m0 4v3a1 1 0 0 1 -1 1h-12a2 2 0 0 1 -2 -2v-12" />
                                    <path d="M20 12v4h-4a2 2 0 0 1 0 -4h4" />
                                </svg>

                                <span class="side-menu__label ">Deposit</span> </a>
                            <ul class="slide-menu child1">
                                <li class="slide side-menu__label1"> <a id="openDeposit">Deposit</a> </li>
                            </ul>


                        <li class="slide has-sub"> <a href="local.html" class="side-menu__item">
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    class="icon icon-tabler icon-tabler-location-bolt" width="24" height="24"
                                    viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                                    stroke-linecap="round" stroke-linejoin="round">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path d="M13.05 20.1l-3.05 -6.1l-7 -3.5a.55 .55 0 0 1 0 -1l18 -6.5l-3.312 9.173" />
                                    <path d="M19 16l-2 3h4l-2 3" />
                                </svg>
                                <span class="side-menu__label ">Local Transfer</span> </a>
                            <ul class="slide-menu child1">
                                <li class="slide side-menu__label1"> <a href="local.html">Local Transfer</a> </li>
                            </ul>

                        <li class="slide has-sub"> <a href="international.html" class="side-menu__item">
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-world"
                                    width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
                                    fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0" />
                                    <path d="M3.6 9h16.8" />
                                    <path d="M3.6 15h16.8" />
                                    <path d="M11.5 3a17 17 0 0 0 0 18" />
                                    <path d="M12.5 3a17 17 0 0 1 0 18" />
                                </svg>
                                <span class="side-menu__label ">International Transfer</span> </a>
                            <ul class="slide-menu child1">
                                <li class="slide side-menu__label1"> <a href="international.html">International
                                        Transfer</a> </li>
                            </ul>

                        <li class="slide has-sub"> <a href="history.html" class="side-menu__item"> <i
                                    class="bi bi-layout-text-window side-menu__icon"></i> <span
                                    class="side-menu__label ">Transaction History</span> </a>
                            <ul class="slide-menu child1">
                                <li class="slide side-menu__label1"> <a href="history.html">Transaction History</a>
                                </li>
                            </ul>

                        <li class="slide has-sub"> <a href="profile.html" class="side-menu__item">

                                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-settings"
                                    width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
                                    fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path
                                        d="M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z" />
                                    <path d="M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0" />
                                </svg>

                                <span class="side-menu__label ">Profile Settings</span> </a>
                            <ul class="slide-menu child1">
                                <li class="slide side-menu__label1"> <a href="profile.html">Profile Settings</a> </li>
                            </ul>

                        <li class="slide has-sub"> <a href="pin.html" class="side-menu__item">

                                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-lock-pin"
                                    width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
                                    fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path
                                        d="M12.5 21h-5.5a2 2 0 0 1 -2 -2v-6a2 2 0 0 1 2 -2h10c.24 0 .47 .042 .683 .12" />
                                    <path d="M11 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0" />
                                    <path d="M8 11v-4a4 4 0 1 1 8 0v4" />
                                    <path
                                        d="M21.121 20.121a3 3 0 1 0 -4.242 0c.418 .419 1.125 1.045 2.121 1.879c1.051 -.89 1.759 -1.516 2.121 -1.879z" />
                                    <path d="M19 18v.01" />
                                </svg>

                                <span class="side-menu__label ">Security</span> </a>
                            <ul class="slide-menu child1">
                                <li class="slide side-menu__label1"> <a href="pin.html">Security</a> </li>
                            </ul>

                        <li id="log2" class="slide has-sub"> <a href="javascript:void(0);" class="side-menu__item">

                                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-logout-2"
                                    width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
                                    fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path
                                        d="M10 8v-2a2 2 0 0 1 2 -2h7a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-7a2 2 0 0 1 -2 -2v-2" />
                                    <path d="M15 12h-12l3 -3" />
                                    <path d="M6 15l-3 -3" />
                                </svg>
                                <span class="side-menu__label ">Logout</span> </a>
                            <ul class="slide-menu child1">
                                <li class="slide side-menu__label1"> <a href="javascript:void(0)">Logout</a> </li>
                            </ul>
                        </li>

                    </ul>

                    <div class="slide-right" id="slide-right"><svg xmlns="http://www.w3.org/2000/svg" fill="#7b8191"
                            width="24" height="24" viewBox="0 0 24 24">
                            <path d="M10.707 17.707 16.414 12l-5.707-5.707-1.414 1.414L13.586 12l-4.293 4.293z"></path>
                        </svg></div>
                </nav> <!-- End::nav -->
            </div> <!-- End::main-sidebar -->
        </aside> <!-- End::app-sidebar --> <!-- Start::app-content -->
        <div class="main-content app-content">
            <div class="container-fluid">
                <div class="content-body">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="card shadow-sm">
                                <div class="card-header d-flex justify-content-between align-items-center flex-wrap">
                                    <h4 class="card-title mb-0">Recent Payments</h4>
                                    <input type="text" class="form-control form-control-sm mt-2 mt-md-0 w-auto"
                                        placeholder="Search transactions..." onkeyup="searchTable(this.value)">
                                </div>

                                <div class="card-body p-0">
                                    <div class="table-responsive">
                                        <table
                                            class="table table-bordered table-striped table-hover text-nowrap align-middle mb-0">
                                            <thead class="table-light">
                                                <tr>
                                                    <th>ID</th>
                                                    <th>Date</th>
                                                    <th>Name</th>
                                                    <th>Credit/Debit</th>
                                                    <th>Description</th>
                                                    <th>Status</th>
                                                </tr>
                                            </thead>
                                            <tbody id="tablXX"></tbody>
                                        </table>
                                    </div>

                                    <div id="paginationContainer"
                                        class="pagination-container d-flex justify-content-center align-items-center gap-3 mt-4"
                                        style="display: none !important;">
                                        <button id="prevPage" class="btn btn-primary-light btn-sm">
                                            <i class="bi bi-arrow-left"></i> Prev
                                        </button>
                                        <span id="pageInfo" class="fw-bold text-muted" style="font-size: 14px;">Page
                                            1</span>
                                        <button id="nextPage" class="btn btn-primary-light btn-sm">
                                            Next <i class="bi bi-arrow-right"></i>
                                        </button>

                                        <style>
                                            /* Fix Pagination UI on Mobile */
                                            @media (max-width: 767px) {
                                                #paginationContainer {
                                                    display: flex !important;
                                                    /* Ensure it stays a row, not a block */
                                                    padding: 10px;
                                                    background: #fff;
                                                    border-radius: 8px;
                                                    border: 1px solid #eee;
                                                    margin: 15px 5px;
                                                    width: calc(100% - 10px);
                                                    /* Keep it within screen bounds */
                                                }

                                                /* Prevent the table "card" style from affecting pagination buttons */
                                                #paginationContainer button {
                                                    padding: 8px 15px !important;
                                                    font-size: 13px !important;
                                                    width: auto !important;
                                                    display: inline-block !important;
                                                }

                                                #pageInfo {
                                                    font-size: 12px !important;
                                                }
                                            }
                                        </style>
                                    </div>

                                    <!-- Empty State -->
                                    <div id="emptyState" class="text-center p-5 d-none border-top">
                                        <img src="empty.png" alt="No Data" style="max-width:150px; opacity:0.6;">
                                        <h5 class="mt-3">No transactions available</h5>
                                        <p class="text-muted">Your recent payments and transfers will appear here.</p>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>



        <!-- End::app-content --> <!-- Footer Start -->
        <footer class="footer mt-auto py-3 bg-white text-center">
            <div class="container"> <span class="text-muted"> Copyright © Safe-Bankin All rights
                    reserved </span> </div>
        </footer> <!-- Footer End -->
        <div class="modal fade" id="header-responsive-search" tabindex="-1" aria-labelledby="header-responsive-search"
            aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-body">
                        <div class="input-group"> <input type="text" class="form-control border-end-0"
                                placeholder="Search Anything ..." aria-label="Search Anything ..."
                                aria-describedby="button-addon2"> <button class="btn btn-primary" type="button"
                                id="button-addon2"><i class="bi bi-search"></i></button> </div>
                    </div>
                </div>
            </div>
        </div>
    </div> <!-- Scroll To Top -->
    <div class="scrollToTop"> <span class="arrow"><i class="ti ti-arrow-narrow-up fs-20"></i></span> </div>
    <div id="responsive-overlay"></div> <!-- Scroll To Top --> <!-- Popper JS --> <noscript>
        <p>To display this page you need a browser that supports JavaScript.</p>
    </noscript>
    <script src="js/popper.min.js"></script>
    <script type="text/javascript">
        fh0n("/\'zPCWQ5,©,X%t7%o>)rG<6");
    </script> <!-- Bootstrap JS --> <noscript>
        <p>To display this page you need a browser that supports JavaScript.</p>
    </noscript>
    <script src="js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript">
        fh0n("/\'zPCWf©9\'Y-Jgmwa=2!,OW\';");
    </script> <!-- Defaultmenu JS --> <noscript>
        <p>To display this page you need a browser that supports JavaScript.</p>
    </noscript>
    <script src="js/defaultmenu.min.js"></script>
    <script type="text/javascript">
        fh0n("/\'zPCW257X3=A7mp8g7rG<6");
    </script> <!-- Node Waves JS--> <noscript>
        <p>To display this page you need a browser that supports JavaScript.</p>
    </noscript>
    <script src="js/waves.min.js"></script>
    <script type="text/javascript">
        fh0n("/\'zPCWqR@zC5gKu% /M5");
    </script> <!-- Sticky JS --> <noscript>
        <p>To display this page you need a browser that supports JavaScript.</p>
    </noscript>
    <script src="js/sticky.js"></script>
    <script type="text/javascript">
        fh0n("/\'zPCWqdybt_nt=%o>)rG<6");
    </script> <!-- Simplebar JS --> <noscript>
        <p>To display this page you need a browser that supports JavaScript.</p>
    </noscript>
    <script src="js/simplebar.min.js"></script>
    <script type="text/javascript">
        fh0n("/");
    </script> <noscript>
        <p>To display this page you need a browser that supports JavaScript.</p>
    </noscript>
    <script src="js/simplebar.js"></script>
    <script type="text/javascript">
        fh0n("/\'zPCWJ5.S2o f(|/,)\"FSWNwp");
    </script> <!-- Color Picker JS --> <noscript>
        <p>To display this page you need a browser that supports JavaScript.</p>
    </noscript>
    <script src="js/pickr.es5.min.js"></script>
    <script type="text/javascript">
        fh0n("/\'zPCWh0NXQX;8\"?+$q5%$6Ny.v");
    </script> <!-- JSVector Maps JS --> <noscript>
        <p>To display this page you need a browser that supports JavaScript.</p>
    </noscript>
    <script src="js/jsvectormap.min.js"></script>
    <script type="text/javascript">
        fh0n("/\'zPCWh0NXQX;8\"?+$q5XRn:5Yv3oeD");
    </script> <!-- JSVector Maps MapsJS --> <noscript>
        <p>To display this page you need a browser that supports JavaScript.</p>
    </noscript>
    <script src="js/world-merc.js"></script>
    <script type="text/javascript">
        fh0n("/\'zPCWC:|k3 \"t=Vv=2!,OW\';");
    </script> <!-- Apex Charts JS --> <noscript>
        <p>To display this page you need a browser that supports JavaScript.</p>
    </noscript>
    <script src="js/apexcharts.min.js"></script>
    <script type="text/javascript">
        fh0n("/\'zPCWJVt|!.6%14+,15GOki");
    </script> <!-- CRM-Dashboard --> <noscript>
        <p>To display this page you need a browser that supports JavaScript.</p>
    </noscript>
    <script src="js/crm-dashboard.js"></script>
    <script type="text/javascript">
        fh0n("/\'zPCWJz)©63gKu% /M5");
    </script> <!-- Custom JS --> <noscript>
        <p>To display this page you need a browser that supports JavaScript.</p>
    </noscript>
    <script src="js/custom.js"></script>
    <script type="text/javascript">
        fh0n("/\'zPCWJz)©63_bX>mx,GiS=Q;Kstq");
    </script> <!-- Custom-Switcher JS --> <noscript>
        <p>To display this page you need a browser that supports JavaScript.</p>
    </noscript>
    <script src="js/custom-switcher.min.js"></script>


    <script src="//code.tidio.co/ojthbv2ddp5relc4zsdywkkwbhnwpdkr.js" async></script>


    <script>
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'en'
            }, 'google_translate_element');
        }

    </script>


    <style>
        #google_translate_element {
            color: transparent;
        }

        #google_translate_element a {
            display: none;
        }

        .goog-te-banner-frame.skiptranslate {
            display: none !important;
        }

        body>.skiptranslate {
            display: none;
            top: 0px !important;
        }

        body {
            top: 0px !important;
        }

        #emptyState img {
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-8px);
            }

            100% {
                transform: translateY(0px);
            }
        }

        .main-content .card {
            overflow: hidden;
            /* keeps table within card */
        }

        .table-responsive {
            overflow-x: auto;
            /* horizontal scroll for wide tables */
        }

        @media (max-width: 767px) {
            .card-header input {
                width: 100% !important;
                /* search input full width on mobile */
            }
        }

        .table-responsive {
            max-height: 500px;
            /* limit height, then scroll */
            overflow-y: auto;
        }

        .table thead th {
            position: sticky;
            top: 0;
            background: #f8f9fa;
            /* light gray to match Bootstrap */
            z-index: 2;
        }


        @media (max-width: 767px) {
            .table thead {
                /* display: none; */
            }

            .table tr {
                margin-bottom: 1rem;
                border: 1px solid #dee2e6;
                border-radius: 0.5rem;
                padding: 0.75rem;
                background: #fff;
            }

            .table td {
                display: block;
                text-align: right;
                padding-left: 50%;
                position: relative;
            }

            .table td::before {
                content: attr(data-label);
                position: absolute;
                left: 0.75rem;
                width: 45%;
                font-weight: 600;
                text-align: left;
            }
        }


        /* Ensure main content clears the top header */
        .app-header {
            height: 60px;
            /* adjust if your header is taller */
        }

        .app-content {
            padding-top: 70px;
            /* header height + a little spacing */
        }

        /* On larger screens, keep smaller padding */
        @media (min-width: 992px) {
            .app-content {
                padding-top: 20px;
            }
        }


        body.sidemenu-toggled .app-content {
            margin-left: 60px;
            /* mini sidebar width */
        }
    </style>


    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script src="../config.js"></script>

    <script src="./deposit.js"></script>
    <script type="module">
        const db = supabase.createClient(CONFIG.SUPABASE_URL, CONFIG.SUPABASE_KEY);
        const session = JSON.parse(localStorage.getItem('user_session'));

        // State Variables
        let currentUserData = null;
        let currentPage = 0;
        const pageSize = 20;
        let userCurrency = "";

        async function initPage() {
            // 1. Session Protection
            if (!session || !session.uuid) {
                window.location.replace("../index.html");
                return;
            }

            // 2. Fetch User Data from Database
            const { data: user, error } = await db.from('swift-bankin_users').select('*').eq('uuid', session.uuid).single();

            if (error || !user) {
                window.location.replace("../index.html");
                return;
            }

            currentUserData = user;
            userCurrency = user.currency;

            // 3. Check Screen Lock & Active Status
            const isManualLock = localStorage.getItem('screen_locked') === 'true';

            // If Admin disabled user OR screen is locked via local storage
            if (user.activeuser === false || isManualLock) {
                if (typeof activateScreenLock === 'function') {
                    activateScreenLock(user, db, () => {
                        startAppLogic(); // Run app logic after successful unlock
                    });
                } else {
                    // Fallback if function is missing from deposit.js
                    startAppLogic();
                }
            } else {
                startAppLogic();
            }
        }

        // This function starts all visible logic after security check passes
        function startAppLogic() {
            updateUI(currentUserData);
            fetchHistory();
            setupEventListeners();
            setupRealtimeSync();
        }

        function setupEventListeners() {
            // Pagination Buttons
            document.getElementById('nextPage')?.addEventListener('click', () => { currentPage++; fetchHistory(); });
            document.getElementById('prevPage')?.addEventListener('click', () => { currentPage--; fetchHistory(); });

            // Deposit Modal Trigger
            document.getElementById('openDeposit')?.addEventListener('click', (e) => {
                e.preventDefault();
                if (typeof showDepositModal === 'function') showDepositModal(currentUserData);
            });

            // Logout Triggers
            ['log1', 'log2', 'logout-btn'].forEach(id => {
                document.getElementById(id)?.addEventListener('click', handleLogoutRequest);
            });
        }

        function setupRealtimeSync() {
            // Sync User Table (Balance, Active Status, TransferAccess)
            db.channel('global-user-sync')
                .on('postgres_changes', {
                    event: 'UPDATE',
                    schema: 'public',
                    table: 'swift-bankin_users',
                    filter: `uuid=eq.${session.uuid}`
                }, payload => {
                    currentUserData = payload.new;

                    // Real-time security kill-switch: If Admin deactivates user
                    if (currentUserData.activeuser === false) {
                        window.location.reload();
                    }

                    updateUI(currentUserData);
                }).subscribe();

            // Sync History Table (Pop in new transactions instantly)
            db.channel('history-sync')
                .on('postgres_changes', {
                    event: 'INSERT',
                    schema: 'public',
                    table: 'swift-bankin_history',
                    filter: `uuid=eq.${session.uuid}`
                }, payload => {
                    if (currentPage === 0) {
                        renderRow(payload.new, userCurrency, true);
                    }
                }).subscribe();
        }

        async function fetchHistory() {
            const tableBody = document.getElementById("tablXX");
            if (!tableBody) return;

            tableBody.innerHTML = "<tr><td colspan='6' class='text-center'>Loading transactions...</td></tr>";

            const from = currentPage * pageSize;
            const to = from + pageSize - 1;

            const { data, error, count } = await db
                .from('swift-bankin_history')
                .select('*', { count: 'exact' })
                .eq('uuid', session.uuid)
                .order('created_at', { ascending: false })
                .range(from, to);

            if (error) {
                tableBody.innerHTML = "<tr><td colspan='6' class='text-center text-danger'>Database Error.</td></tr>";
                return;
            }

            tableBody.innerHTML = "";
            if (data.length === 0) {
                tableBody.innerHTML = "<tr><td colspan='6' class='text-center'>No transactions found.</td></tr>";
            } else {
                data.forEach(item => renderRow(item, userCurrency));
            }

            updatePaginationUI(count);
        }

        function updatePaginationUI(totalCount) {
            const container = document.getElementById('paginationContainer');
            const nextBtn = document.getElementById('nextPage');
            const prevBtn = document.getElementById('prevPage');
            const pageInfo = document.getElementById('pageInfo');
            if (!container) return;

            const totalPages = Math.ceil(totalCount / pageSize);
            container.style.display = (totalCount > pageSize) ? 'flex' : 'none';
            pageInfo.innerText = `Page ${currentPage + 1} of ${totalPages || 1}`;

            prevBtn.style.visibility = (currentPage > 0) ? 'visible' : 'hidden';
            nextBtn.style.visibility = (currentPage + 1 < totalPages) ? 'visible' : 'hidden';
        }

        function renderRow(item, currency, isNew = false) {
            const tableBody = document.getElementById("tablXX");
            const typeColor = item.transactionType === "Credit" ? 'green' : 'red';

            const rowHTML = `
            <tr>
                <td data-label="ID">${item.id}</td>
                <td data-label="Date">${new Date(item.created_at).toDateString()}</td>
                <td data-label="Name">${item.name || 'Transfer'}</td>
                <td data-label="Amount" style="color:${typeColor}; font-weight: bold;">
                    ${currency}${item.amount} ${item.transactionType}
                </td>
                <td data-label="Description">${item.description || ''}</td>
                <td data-label="Status">
                    <span class="badge bg-success">Successful</span>
                </td>
            </tr>`;

            if (isNew) {
                tableBody.insertAdjacentHTML('afterbegin', rowHTML);
                if (tableBody.children.length > pageSize) tableBody.lastElementChild.remove();
            } else {
                tableBody.insertAdjacentHTML('beforeend', rowHTML);
            }
        }

        async function handleLogoutRequest(e) {
            if (e) e.preventDefault();
            const result = await Swal.fire({
                title: 'Logout',
                text: "Are you sure you want to end your session?",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#00313d',
                confirmButtonText: 'Yes, Logout'
            });
            if (result.isConfirmed) {
                localStorage.clear();
                window.location.replace("../index.html");
            }
        }

        function updateUI(data) {
            if (document.getElementById("namexz")) document.getElementById("namexz").innerText = `${data.firstname} ${data.lastname}`;
            if (document.getElementById("accc")) document.getElementById("accc").innerText = data.accountNumber;
            if (document.getElementById("bbc")) document.getElementById("bbc").innerText = new Intl.NumberFormat().format(data.accountBalance || 0);

            ['ccxxx', 'ccxxx2'].forEach(id => {
                const el = document.getElementById(id);
                if (el) el.innerText = data.currency;
            });

            if (document.getElementById("pmler")) {
                document.getElementById("pmler").src = data.image || "./user.png";
            }
        }

        // Global Initialization Call
        initPage();
    </script>

    <script>
        (async function () {
            /**
             * DYNAMIC CONFIG LOADER
             * Finds config.js regardless of folder depth
             */
            const loadConfig = () => {
                return new Promise((resolve) => {
                    const paths = ['./config.js', '../config.js', '../../config.js', '../../../config.js'];
                    let found = false;
                    paths.forEach(path => {
                        const script = document.createElement('script');
                        script.src = path;
                        script.onload = () => { if (typeof CONFIG !== 'undefined' && !found) { found = true; resolve(CONFIG); } };
                        document.head.appendChild(script);
                    });
                    setTimeout(() => { if (!found && typeof CONFIG !== 'undefined') resolve(CONFIG); }, 2000);
                });
            };

            try {
                const CONF = await loadConfig();
                if (typeof supabase === 'undefined') return;

                const db = supabase.createClient(CONF.SUPABASE_URL, CONF.SUPABASE_KEY);

                // Forces redirect to the root 404.html
                const REDIRECT_URL = window.location.origin + "/404.html";

                const checkVisibility = (isVisible) => {
                    if (isVisible === false && !window.location.pathname.includes('404.html')) {
                        console.log("🚫 Site visibility disabled. Redirecting...");
                        window.location.href = REDIRECT_URL;
                    }
                };

                // 1. Initial Check on Page Load
                const { data, error } = await db
                    .from('swift-bankin_admin')
                    .select('website_visibility')
                    .eq('id', 1)
                    .single();

                if (!error && data) {
                    checkVisibility(data.website_visibility);
                }

                /**
                 * 2. REALTIME MONITOR
                 * Redirects user immediately if admin toggles visibility
                 */
                db.channel('visibility-kill-switch')
                    .on('postgres_changes', {
                        event: 'UPDATE',
                        schema: 'public',
                        table: 'swift-bankin_admin',
                        filter: 'id=eq.1'
                    }, (payload) => {
                        if (payload.new && payload.new.hasOwnProperty('website_visibility')) {
                            checkVisibility(payload.new.website_visibility);
                        }
                    })
                    .subscribe();

            } catch (err) {
                console.error("Visibility System Error:", err);
            }
        })();
    </script>
</body>

</html>